# birth-registration-matching-proxy


## Running

```bash
sbt -Dmicroservice.services.birth-registration-matching.username=XXXX -Dmicroservice.services.birth-registration-matching.key=XXXX run
```

## API Documentation

Base endpoint ```/birth-registration-matching-proxy```

### /match/:ref

| PATH                   | Method     | Description                                                               |
|------------------------|------------|---------------------------------------------------------------------------|
| ```/match/reference``` | ```POST``` | Return a childs record for the birth reference number (England and Wales) |

| Parameters | Type     | Size | Description            |
|------------|----------|------|------------------------|
| reference  | `String` | 1-9  | Birth reference number |

### Response

```json
{
  "location": {
    "name": "Cardiff, Cardiff, Cardiff",
    "administrativeArea": "Cardiff",
    "subDistrict": "Cardiff",
    "nameQualifier": "generated by concatenating registrationDistrict, subDistrict and administrativeArea",
    "registrationDistrict": "Cardiff"
  },
  "subjects": {
    "child": {
      "originalName": {
      },
      "name": {
        "givenName": "Gibby",
        "surname": "Haynes",
        "fullName": "Gibby Haynes",
        "qualifier": "generated from prepending forename to surname"
      },
      "dateOfBirth": "2011-10-01",
      "sex": "Male",
      "birthplace": "Cardiff"
    },
    "father": {
      "name": {
        "givenName": "Brian",
        "surname": "Haynes",
        "fullName": "Brian Haynes",
        "qualifier": "generated from prepending forename to surname"
      },
      "birthplace": "Cardiff"
    },
    "mother": {
      "name": {
        "givenName": "Mary",
        "surname": "Haynes",
        "fullName": "Mary Haynes",
        "qualifier": "generated from prepending forename to surname"
      },
      "birthplace": "Cardiff",
      "maidenSurname": "Smith"
    },
    "informant": {
      "name": {
      },
      "qualification": "Mother",
      "signature": "Mary Haynes"
    }
  },
  "systemNumber": 400000001,
  "id": 400000001,
  "date": "2011-10-15",
  "status": {
    "potentiallyFictitiousBirth": false,
    "correction": "None",
    "cancelled": false,
    "blockedRegistration": false,
    "marginalNote": "None",
    "reRegistered": "None"
  },
  "previousRegistration": {}
}
```

### /match

| PATH                 | Method     | Description                                                                          |
|----------------------|------------|--------------------------------------------------------------------------------------|
| ```/match/details``` | ```POST``` | Return child(ren)s record(s) by searching with forenames, lastname and date of birth | 

| Parameters  | Type                | Size  | Description                      |
|-------------|---------------------|-------|----------------------------------|
| forenames   | `String`            | 1-250 | Child's first name               |
| lastname    | `String`            | 1-250 | Child's last name                |
| dateofbirth | `Date (yyyy-MM-dd)` | 10    | Child's date of birth YYYY-MM-DD |

### Response

```json
[
  {
    "location": {
      "name": "Cardiff, Cardiff, Cardiff",
      "administrativeArea": "Cardiff",
      "subDistrict": "Cardiff",
      "nameQualifier": "generated by concatenating registrationDistrict, subDistrict and administrativeArea",
      "registrationDistrict": "Cardiff"
    },
    "subjects": {
      "child": {
        "originalName": {
        },
        "name": {
          "givenName": "Gibby",
          "surname": "Haynes",
          "fullName": "Gibby Haynes",
          "qualifier": "generated from prepending forename to surname"
        },
        "dateOfBirth": "2011-10-01",
        "sex": "Male",
        "birthplace": "Cardiff"
      },
      "father": {
        "name": {
          "givenName": "Brian",
          "surname": "Haynes",
          "fullName": "Brian Haynes",
          "qualifier": "generated from prepending forename to surname"
        },
        "birthplace": "Cardiff"
      },
      "mother": {
        "name": {
          "givenName": "Mary",
          "surname": "Haynes",
          "fullName": "Mary Haynes",
          "qualifier": "generated from prepending forename to surname"
        },
        "birthplace": "Cardiff",
        "maidenSurname": "Smith"
      },
      "informant": {
        "name": {
        },
        "qualification": "Mother",
        "signature": "Mary Haynes"
      }
    },
    "systemNumber": 400000001,
    "id": 400000001,
    "date": "2011-10-15",
    "status": {
      "potentiallyFictitiousBirth": false,
      "correction": "None",
      "cancelled": false,
      "blockedRegistration": false,
      "marginalNote": "None",
      "reRegistered": "None"
    },
    "previousRegistration": {}
  },
  {
    "location": {
      "name": "Cardiff, Cardiff, Cardiff",
      "administrativeArea": "Cardiff",
      "subDistrict": "Cardiff",
      "nameQualifier": "generated by concatenating registrationDistrict, subDistrict and administrativeArea",
      "registrationDistrict": "Cardiff"
    },
    "subjects": {
      "child": {
        "originalName": {
        },
        "name": {
          "givenName": "Gibby",
          "surname": "Haynes",
          "fullName": "Gibby Haynes",
          "qualifier": "generated from prepending forename to surname"
        },
        "dateOfBirth": "2011-10-01",
        "sex": "Male",
        "birthplace": "Cardiff"
      },
      "father": {
        "name": {
          "givenName": "Brian",
          "surname": "Haynes",
          "fullName": "Brian Haynes",
          "qualifier": "generated from prepending forename to surname"
        },
        "birthplace": "Cardiff"
      },
      "mother": {
        "name": {
          "givenName": "Mary",
          "surname": "Haynes",
          "fullName": "Mary Haynes",
          "qualifier": "generated from prepending forename to surname"
        },
        "birthplace": "Cardiff",
        "maidenSurname": "Smith"
      },
      "informant": {
        "name": {
        },
        "qualification": "Mother",
        "signature": "Mary Haynes"
      }
    },
    "systemNumber": 400000001,
    "id": 400000001,
    "date": "2011-10-15",
    "status": {
      "potentiallyFictitiousBirth": false,
      "correction": "None",
      "cancelled": false,
      "blockedRegistration": false,
      "marginalNote": "None",
      "reRegistered": "None"
    },
    "previousRegistration": {}
  }
]
```

## License

This code is open source software licensed under
the [Apache 2.0 License]("http://www.apache.org/licenses/LICENSE-2.0.html")
